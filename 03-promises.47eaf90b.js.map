{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACTC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,UAAWH,SAASC,cAAc,iBAClCG,OAAQJ,SAASC,cAAc,mBAC/BI,IAAKL,SAASC,cAAc,oBAKhC,SAASK,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GACpC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACpB,OAAIL,EACAI,EAAQ,CAAEN,WAAUC,aAEpBM,EAAO,CAAEP,WAAUC,Y,IARpCV,EAAKO,IAAIU,iBAAiB,SAa1B,SAAsBC,GACpBA,EAAEC,iBAMA,IALF,IAAIC,EAAW,EACXC,EAAarB,EAAKI,MAAMkB,MACtBC,EAAcvB,EAAKM,OAAOgB,MAC1BE,EAAiBxB,EAAKK,UAAUiB,MAE3BG,EAAI,EAAGA,GAAKC,OAAOH,GAAcE,GAAK,EAAG,CAChDL,EAAWK,EAEX,IAAIE,EAAWD,OAAOL,GAAcK,OAAOF,GAAkBJ,EAC9DZ,EAAcY,EAAUO,GACpBC,MAAK,SAAAC,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAQmB,EAARnB,SACfoB,YAAW,WACXC,EAAAjC,GAASkC,OAAOC,QAAQ,uBAAwCC,OAAfzB,EAAS,QAAeyB,OAATxB,EAAS,M,GACxEA,E,IAGJyB,OAAM,SAAAN,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAQmB,EAARnB,SAChBoB,YAAW,WACXC,EAAAjC,GAASkC,OAAOI,QAAQ,sBAAqCF,OAAfzB,EAAS,QAAeyB,OAATxB,EAAS,M,GACrEA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n    form: document.querySelector('.form'),\n    delay: document.querySelector('[name=\"delay\"]'),\n    delayStep: document.querySelector('[name=\"step\"]'),\n    amount: document.querySelector('[name=\"amount\"]'),\n    btn: document.querySelector('[type=\"submit\"]'),\n}\n//\nrefs.btn.addEventListener('click', startPromise);\n\nfunction createPromise(position, delayAll) {\n  const shouldResolve = Math.random() > 0.3;\n    return new Promise((resolve, reject) => {\n             if (shouldResolve) {\n          return resolve({ position, delayAll });\n        } else {\n          return reject({ position, delayAll });\n        }\n  })\n};\n\nfunction startPromise(e) {\n  e.preventDefault();\n  let position = 0;\n  let delayInput = refs.delay.value;\n  const amountInput = refs.amount.value;\n  const delayStepInput = refs.delayStep.value;\n \n    for (let i = 1; i <= Number(amountInput); i += 1) {\n      position = i;\n      \n      let delayAll = Number(delayInput) + Number(delayStepInput) * position;\n     createPromise(position, delayAll)\n        .then(({ position, delayAll }) => {\n            setTimeout(() => {\n            Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delayAll}ms`);\n          }, delayAll);\n        })\n    \n        .catch(({ position, delayAll }) => {\n            setTimeout(() => {\n            Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delayAll}ms`);\n          }, delayAll);\n        });\n    }\n};"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","delay","delayStep","amount","btn","$ce04d3a99e08e73b$var$createPromise","position","delayAll","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","e","preventDefault","position1","delayInput","value","amountInput","delayStepInput","i","Number","delayAll1","then","param","setTimeout","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.47eaf90b.js.map"}